<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .slide-element-container {
            position: absolute;
            cursor: move;
            user-select: none;
            transition: all 0.2s ease-out;
        }

        .slide-element-container:hover {
            outline: 2px solid rgba(59, 130, 246, 0.5);
        }

        .slide-element-container.active {
            outline: 2px solid #3b82f6;
            z-index: 10;
        }

        [contenteditable]:focus {
            outline: none;
        }

        /* ã‚µã‚¤ã‚ºå¤‰æ›´ãƒãƒ³ãƒ‰ãƒ« (ã¯ã—ã£ã“ã‚’å¤§ããã—ãŸã‚Šå°ã•ãã™ã‚‹ãƒãƒ¼ã‚¯) */
        .resize-handle {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #3b82f6;
            border: 1px solid white;
            border-radius: 50%;
            display: none;
        }

        .slide-element-container.active .resize-handle {
            display: block;
        }

        .resize-handle.top-left { top: -6px; left: -6px; cursor: nwse-resize; }
        .resize-handle.top-center { top: -6px; left: 50%; transform: translateX(-50%); cursor: ns-resize; }
        .resize-handle.top-right { top: -6px; right: -6px; cursor: nesw-resize; }
        .resize-handle.middle-left { top: 50%; left: -6px; transform: translateY(-50%); cursor: ew-resize; }
        .resize-handle.middle-right { top: 50%; right: -6px; transform: translateY(-50%); cursor: ew-resize; }
        .resize-handle.bottom-left { bottom: -6px; left: -6px; cursor: nesw-resize; }
        .resize-handle.bottom-center { bottom: -6px; left: 50%; transform: translateX(-50%); cursor: ns-resize; }
        .resize-handle.bottom-right { bottom: -6px; right: -6px; cursor: nwse-resize; }

        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ (ã‚¹ãƒ©ã‚¤ãƒ‰ãŒå‹•ãã—ã‹ã‘) */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideInLeft {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes scaleIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .animated {
            animation-duration: 0.5s;
            animation-fill-mode: both;
        }

        .animated.fadeIn {
            animation-name: fadeIn;
        }
        .animated.slideInLeft {
            animation-name: slideInLeft;
        }
        .animated.scaleIn {
            animation-name: scaleIn;
        }

        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆæœŸçŠ¶æ…‹ã‚’éè¡¨ç¤ºã«ã™ã‚‹ */
        .initial-animation-state {
            opacity: 0;
        }
        
        /* ã‚¹ãƒ©ã‚¤ãƒ‰ä¸€è¦§ã®ã‚µãƒ ãƒã‚¤ãƒ«ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .thumbnail-container {
            position: relative;
            aspect-ratio: 16 / 9;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        
        .thumbnail-container:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
        }

        .thumbnail-container.active-thumbnail {
            outline: 4px solid #3b82f6;
            transform: scale(1.05);
        }
    </style>
    <script>
        // ã“ã“ã«ã‚¹ãƒ©ã‚¤ãƒ‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã„ã‚Œã¦ãŠãã‚ˆ
        let slides = [
            { elements: [{ id: crypto.randomUUID(), type: 'text', content: 'ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ä½œã‚ã†ï¼', styles: { top: '50%', left: '50%', transform: 'translate(-50%, -50%)', fontSize: '3rem', fontWeight: 'bold' }, animation: null }] }
        ];
        let currentSlideIndex = 0;
        let activeElementId = null;
        let isDragging = false;
        let dragOffsetX = 0, dragOffsetY = 0;
        let isResizing = false;
        let resizeHandleType = '';
        let resizeStartX = 0, resizeStartY = 0;
        let resizeStartWidth = 0, resizeStartHeight = 0, resizeStartLeft = 0, resizeStartTop = 0;
        let resizeStartFontSize = 0;
        let isPresentationMode = false;

        // ãƒ•ã‚¡ã‚¤ãƒ«ã‚’Base64ã«å¤‰æ›ã—ã¾ã™ (ã‚€ãšã‹ã—ã„ã‘ã©ã€å†™çœŸã‚’èª­ã¿è¾¼ã‚€ãŸã‚ã«å¿…è¦ã ã‚ˆ)
        function convertFileToBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.onerror = (error) => reject(error);
                reader.readAsDataURL(file);
            });
        }

        // ã‚¹ãƒ©ã‚¤ãƒ‰ã®çµµã‚„æ–‡å­—ã‚’ç”»é¢ã«ã†ã¤ã—ã¾ã™
        function renderSlide(containerId) {
            const slideContainer = document.getElementById(containerId);
            slideContainer.innerHTML = '';
            
            if (currentSlideIndex >= 0 && currentSlideIndex < slides.length) {
                const currentSlide = slides[currentSlideIndex];
                
                currentSlide.elements.forEach((element, index) => {
                    const elementDiv = document.createElement('div');
                    elementDiv.id = element.id;
                    elementDiv.className = `slide-element-container ${activeElementId === element.id && !isPresentationMode ? 'active' : ''} ${isPresentationMode && element.animation ? 'initial-animation-state' : ''}`;
                    
                    const styleStr = Object.entries(element.styles).map(([key, value]) => `${key}: ${value}`).join(';');
                    elementDiv.style.cssText = styleStr;

                    let innerHTML = '';
                    if (!isPresentationMode && element.animation) {
                        innerHTML += `
                            <div class="animation-label absolute top-1 left-1 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded-full pointer-events-none z-20">
                                ${element.animation}
                            </div>
                        `;
                    }

                    if (element.type === 'text') {
                        innerHTML += `<div contenteditable="${!isPresentationMode}" class="outline-none w-full h-full p-2" data-id="${element.id}" style="color: ${element.styles.color || 'black'}; font-weight: ${element.styles.fontWeight || 'normal'}; font-size: ${element.styles.fontSize};">${element.content}</div>`;
                    } else if (element.type === 'image') {
                        innerHTML += `<img src="${element.src}" class="w-full h-full object-contain" />`;
                    } else if (element.type === 'video') {
                        innerHTML += `<video src="${element.src}" controls class="w-full h-full object-contain"></video>`;
                    }

                    if (!isPresentationMode) {
                        innerHTML += `
                            <div class="resize-handle top-left"></div>
                            <div class="resize-handle top-center"></div>
                            <div class="resize-handle top-right"></div>
                            <div class="resize-handle middle-left"></div>
                            <div class="resize-handle middle-right"></div>
                            <div class="resize-handle bottom-left"></div>
                            <div class="resize-handle bottom-center"></div>
                            <div class="resize-handle bottom-right"></div>
                        `;
                    }
                    elementDiv.innerHTML = innerHTML;
                    slideContainer.appendChild(elementDiv);

                    // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨ã—ã¾ã™
                    if (isPresentationMode && element.animation) {
                        setTimeout(() => {
                            elementDiv.classList.remove('initial-animation-state');
                            elementDiv.classList.add('animated', element.animation);
                        }, index * 200); // 200ms delay for each element
                    }
                });
                document.getElementById('slide-count').innerText = `${currentSlideIndex + 1} / ${slides.length}`;
            } else {
                slideContainer.innerHTML = `<div class="p-8 h-full flex flex-col justify-center items-center text-gray-500">ã‚¹ãƒ©ã‚¤ãƒ‰ãŒã‚ã‚Šã¾ã›ã‚“ã€‚æ–°ã—ã„ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚</div>`;
                document.getElementById('slide-count').innerText = `0 / 0`;
            }
            
            if (!isPresentationMode) {
                setupInteraction();
            }
            renderThumbnails();
        }
        
        // ã‚¹ãƒ©ã‚¤ãƒ‰ã®ã‚µãƒ ãƒã‚¤ãƒ«ã‚’è¡¨ç¤ºã™ã‚‹
        function renderThumbnails() {
            const thumbnailContainer = document.getElementById('slide-list-thumbnails');
            thumbnailContainer.innerHTML = '';
            slides.forEach((slide, index) => {
                const thumbnailDiv = document.createElement('div');
                thumbnailDiv.className = `thumbnail-container cursor-pointer relative p-1 transition-all ${index === currentSlideIndex ? 'active-thumbnail' : ''}`;
                thumbnailDiv.dataset.index = index;

                // ã‚¹ãƒ©ã‚¤ãƒ‰ç•ªå·ã‚’è¿½åŠ 
                const slideNumber = document.createElement('div');
                slideNumber.className = 'absolute top-2 left-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded-full z-10';
                slideNumber.innerText = `${index + 1}`;
                thumbnailDiv.appendChild(slideNumber);
                
                const slideContent = document.createElement('div');
                slideContent.className = 'w-full h-full relative transform scale-[0.25] origin-top-left pointer-events-none';
                slideContent.style.width = '400%';
                slideContent.style.height = '400%';
                
                slide.elements.forEach(element => {
                    const elementDiv = document.createElement('div');
                    elementDiv.className = 'slide-element-container pointer-events-none';
                    const styleStr = Object.entries(element.styles).map(([key, value]) => `${key}: ${value}`).join(';');
                    elementDiv.style.cssText = styleStr;
                    
                    let innerHTML = '';
                    if (element.type === 'text') {
                        // ã‚µãƒ ãƒã‚¤ãƒ«ã§ã¯font-sizeã‚’å°ã•ãã—ã¦è¡¨ç¤ºã™ã‚‹
                        const thumbnailFontSize = parseFloat(element.styles.fontSize) / 4 + 'rem';
                        innerHTML += `<div class="p-1" style="color: ${element.styles.color || 'black'}; font-weight: ${element.styles.fontWeight || 'normal'}; font-size: ${thumbnailFontSize};">${element.content}</div>`;
                    } else if (element.type === 'image') {
                        innerHTML += `<img src="${element.src}" class="w-full h-full object-contain" />`;
                    } else if (element.type === 'video') {
                        innerHTML += `<video src="${element.src}" class="w-full h-full object-contain"></video>`;
                    }
                    elementDiv.innerHTML = innerHTML;
                    slideContent.appendChild(elementDiv);
                });
                
                thumbnailDiv.appendChild(slideContent);
                thumbnailContainer.appendChild(thumbnailDiv);
            });

            // ã‚µãƒ ãƒã‚¤ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹
            const thumbnails = document.querySelectorAll('.thumbnail-container');
            thumbnails.forEach(thumbnail => {
                thumbnail.addEventListener('click', () => {
                    const newIndex = parseInt(thumbnail.dataset.index, 10);
                    if (newIndex !== currentSlideIndex) {
                        currentSlideIndex = newIndex;
                        renderSlide('slide-content');
                    }
                    toggleSlideListView(false); // ã‚¹ãƒ©ã‚¤ãƒ‰ä¸€è¦§ã‚’é–‰ã˜ã‚‹
                });
            });
        }

        // ä»Šãˆã‚‰ã‚“ã§ã„ã‚‹ã‚‚ã®ã‚’æ±ºã‚ã‚‹
        function setActiveElement(id) {
            const allElements = document.querySelectorAll('.slide-element-container');
            allElements.forEach(el => el.classList.remove('active'));
            activeElementId = id;
            if (id) {
                const activeEl = document.getElementById(id);
                if (activeEl) {
                    activeEl.classList.add('active');
                    const element = slides[currentSlideIndex].elements.find(el => el.id === id);
                    const animationSelect = document.getElementById('animation-select');
                    animationSelect.value = element.animation || 'none';
                }
            }
        }
        
        // ãƒ‰ãƒ©ãƒƒã‚°ã—ãŸã‚Šã€ã‚µã‚¤ã‚ºã‚’å¤‰ãˆãŸã‚Šã™ã‚‹æº–å‚™ã‚’ã™ã‚‹
        function setupInteraction() {
            const slideContainer = document.getElementById('slide-content');
            
            slideContainer.addEventListener('mousedown', (e) => {
                if (isPresentationMode) return;
                const resizeHandle = e.target.closest('.resize-handle');
                const elementContainer = e.target.closest('.slide-element-container');

                if (resizeHandle) {
                    isResizing = true;
                    setActiveElement(elementContainer.id);
                    resizeHandleType = Array.from(resizeHandle.classList).find(cls => cls.startsWith('top-') || cls.startsWith('middle-') || cls.startsWith('bottom-'));
                    resizeStartX = e.clientX;
                    resizeStartY = e.clientY;
                    const rect = elementContainer.getBoundingClientRect();
                    resizeStartWidth = rect.width;
                    resizeStartHeight = rect.height;
                    resizeStartLeft = rect.left;
                    resizeStartTop = rect.top;
                    const elementData = slides[currentSlideIndex].elements.find(el => el.id === activeElementId);
                    if (elementData && elementData.type === 'text') {
                        const contentEl = elementContainer.querySelector('[contenteditable]');
                        resizeStartFontSize = parseFloat(window.getComputedStyle(contentEl).fontSize);
                    }
                    e.preventDefault();
                } else if (elementContainer) {
                    isDragging = true;
                    setActiveElement(elementContainer.id);
                    
                    const rect = elementContainer.getBoundingClientRect();
                    dragOffsetX = e.clientX - rect.left;
                    dragOffsetY = e.clientY - rect.top;
                } else {
                    isDragging = false;
                    isResizing = false;
                    setActiveElement(null);
                }
            });

            slideContainer.addEventListener('mousemove', (e) => {
                if (isResizing && activeElementId) {
                    const elementContainer = document.getElementById(activeElementId);
                    if (!elementContainer) return;

                    const deltaX = e.clientX - resizeStartX;
                    const deltaY = e.clientY - resizeStartY;
                    
                    let newWidth = resizeStartWidth, newHeight = resizeStartHeight, newLeft = resizeStartLeft, newTop = resizeStartTop;

                    switch(resizeHandleType) {
                        case 'top-left':
                            newWidth = resizeStartWidth - deltaX;
                            newHeight = resizeStartHeight - deltaY;
                            newLeft = resizeStartLeft + deltaX;
                            newTop = resizeStartTop + deltaY;
                            break;
                        case 'top-center':
                            newHeight = resizeStartHeight - deltaY;
                            newTop = resizeStartTop + deltaY;
                            break;
                        case 'top-right':
                            newWidth = resizeStartWidth + deltaX;
                            newHeight = resizeStartHeight - deltaY;
                            newTop = resizeStartTop + deltaY;
                            break;
                        case 'middle-left':
                            newWidth = resizeStartWidth - deltaX;
                            newLeft = resizeStartLeft + deltaX;
                            break;
                        case 'middle-right':
                            newWidth = resizeStartWidth + deltaX;
                            break;
                        case 'bottom-left':
                            newWidth = resizeStartWidth - deltaX;
                            newHeight = resizeStartHeight + deltaY;
                            newLeft = resizeStartLeft + deltaX;
                            break;
                        case 'bottom-center':
                            newHeight = resizeStartHeight + deltaY;
                            break;
                        case 'bottom-right':
                            newWidth = resizeStartWidth + deltaX;
                            newHeight = resizeStartHeight + deltaY;
                            break;
                    }
                    
                    if (newWidth > 20 && newHeight > 20) {
                        elementContainer.style.width = `${newWidth}px`;
                        elementContainer.style.height = `${newHeight}px`;
                        if (resizeHandleType.includes('left')) {
                            elementContainer.style.left = `${newLeft}px`;
                        }
                        if (resizeHandleType.includes('top')) {
                            elementContainer.style.top = `${newTop}px`;
                        }

                        const elementData = slides[currentSlideIndex].elements.find(el => el.id === activeElementId);
                        if (elementData && elementData.type === 'text') {
                            const newFontSize = resizeStartFontSize * (newWidth / resizeStartWidth);
                            if (newFontSize > 10 && newFontSize < 150) {
                                elementContainer.querySelector('[contenteditable]').style.fontSize = `${newFontSize}px`;
                            }
                        }
                    }
                } else if (isDragging && activeElementId) {
                    const slideRect = slideContainer.getBoundingClientRect();
                    const elementContainer = document.getElementById(activeElementId);
                    if (!elementContainer) return;

                    const newLeft = e.clientX - slideRect.left - dragOffsetX;
                    const newTop = e.clientY - slideRect.top - dragOffsetY;
                    
                    elementContainer.style.left = `${(newLeft / slideRect.width) * 100}%`;
                    elementContainer.style.top = `${(newTop / slideRect.height) * 100}%`;
                    elementContainer.style.transform = 'none';
                }
            });

            slideContainer.addEventListener('mouseup', () => {
                if (isResizing && activeElementId) {
                    const elementContainer = document.getElementById(activeElementId);
                    if (!elementContainer) return;

                    const element = slides[currentSlideIndex].elements.find(el => el.id === activeElementId);
                    if (element) {
                        const slideRect = elementContainer.parentElement.getBoundingClientRect();
                        const elementRect = elementContainer.getBoundingClientRect();

                        element.styles.width = `${(elementRect.width / slideRect.width) * 100}%`;
                        element.styles.height = `${(elementRect.height / slideRect.height) * 100}%`;
                        element.styles.left = `${((elementRect.left - slideRect.left) / slideRect.width) * 100}%`;
                        element.styles.top = `${((elementRect.top - slideRect.top) / slideRect.height) * 100}%`;

                        if (element.type === 'text') {
                            const finalFontSizePx = parseFloat(window.getComputedStyle(elementContainer.querySelector('[contenteditable]')).fontSize);
                            const baseFontSizePx = parseFloat(window.getComputedStyle(document.documentElement).fontSize);
                            const finalFontSizeRem = finalFontSizePx / baseFontSizePx;
                            element.styles.fontSize = `${finalFontSizeRem}rem`;
                        }
                    }
                } else if (isDragging && activeElementId) {
                    const elementContainer = document.getElementById(activeElementId);
                    if (!elementContainer) return;
                    
                    const element = slides[currentSlideIndex].elements.find(el => el.id === activeElementId);
                    if (element) {
                        const slideRect = elementContainer.parentElement.getBoundingClientRect();
                        const elementRect = elementContainer.getBoundingClientRect();

                        element.styles.left = `${((elementRect.left - slideRect.left) / slideRect.width) * 100}%`;
                        element.styles.top = `${((elementRect.top - slideRect.top) / slideRect.height) * 100}%`;
                        element.styles.transform = 'none';
                    }
                }
                isDragging = false;
                isResizing = false;
            });

            slideContainer.addEventListener('input', (e) => {
                if (e.target.dataset.id) {
                    const element = slides[currentSlideIndex].elements.find(el => el.id === e.target.dataset.id);
                    if (element) {
                        element.content = e.target.innerText;
                    }
                }
            });
        }
        
        // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹
        let messageBox;
        function showMessage(message, isError = false) {
            if (!messageBox) {
                console.error("MessageBox element not found.");
                return;
            }
            messageBox.innerText = message;
            messageBox.classList.remove('hidden');
            if (isError) {
                messageBox.classList.remove('bg-green-500');
                messageBox.classList.add('bg-red-500');
            } else {
                messageBox.classList.remove('bg-red-500');
                messageBox.classList.add('bg-green-500');
            }
            clearTimeout(messageBox.hideTimer);
            messageBox.hideTimer = setTimeout(() => {
                messageBox.classList.add('hidden');
            }, 5000);
        }

        // ãƒœã‚¿ãƒ³ã®ãƒ‘ãƒãƒ«ã‚’å‡ºã™ã‹éš ã™ã‹æ±ºã‚ã‚‹
        function togglePanel(panelId) {
            const panels = ['content-controls', 'animation-controls', 'slide-controls', 'file-controls'];
            panels.forEach(id => {
                const panel = document.getElementById(id);
                if (panel) {
                    if (id === panelId) {
                        panel.classList.toggle('hidden');
                    } else {
                        panel.classList.add('hidden');
                    }
                }
            });
        }
        
        // ã‚¹ãƒ©ã‚¤ãƒ‰ä¸€è¦§ãƒ‘ãƒãƒ«ã‚’å‡ºã™ã‹éš ã™ã‹æ±ºã‚ã‚‹
        function toggleSlideListView(visible) {
            const slideListView = document.getElementById('slide-list-view');
            if (visible === undefined) {
                slideListView.classList.toggle('hidden');
            } else if (visible) {
                slideListView.classList.remove('hidden');
            } else {
                slideListView.classList.add('hidden');
            }

            if (!slideListView.classList.contains('hidden')) {
                renderThumbnails();
            }
        }
        
        // ç™ºè¡¨ãƒ¢ãƒ¼ãƒ‰ã‚’å§‹ã‚ã‚‹ã‹ã€ã‚„ã‚ã‚‹ã‹æ±ºã‚ã‚‹
        function togglePresentationMode(enabled) {
            isPresentationMode = enabled;
            const body = document.body;
            const editorControls = document.getElementById('editor-controls');
            const presentationView = document.getElementById('presentation-view');
            const messageBox = document.getElementById('message-box');
            
            // ç™ºè¡¨ã‚’å§‹ã‚ã‚‹ã¨ãã¯ã€ã™ã¹ã¦ã®ãƒ‘ãƒãƒ«ã‚’éè¡¨ç¤ºã«ã—ã¾ã™
            const panels = ['content-controls', 'animation-controls', 'slide-controls', 'file-controls'];
            panels.forEach(id => document.getElementById(id).classList.add('hidden'));

            if (enabled) {
                // ç™ºè¡¨ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆã‚‹å‰ã«ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªè¦ç´ ã‚’éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ã™ã‚‹
                if (document.activeElement) {
                    document.activeElement.blur();
                }
                setActiveElement(null);
                
                body.classList.add('overflow-hidden');
                editorControls.classList.add('hidden');
                presentationView.classList.remove('hidden');
                
                renderSlide('presentation-content');
                showMessage('ãŠã‚ã‚‹ã¨ãã¯ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ESCãƒœã‚¿ãƒ³ã‚’ãŠã—ã¦ã­ï¼');
            } else {
                body.classList.remove('overflow-hidden');
                editorControls.classList.remove('hidden');
                presentationView.classList.add('hidden');
                renderSlide('slide-content');
                messageBox.classList.add('hidden'); // ç™ºè¡¨ãŒçµ‚ã‚ã£ãŸã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’éè¡¨ç¤ºã«ã—ã¾ã™
            }
        }

        // ãˆã‚‰ã‚“ã ãŠçµµã‹ãã‚’ä¸€ç•ªå‰ã«ã ã™
        function bringToFront() {
            if (activeElementId) {
                const elements = slides[currentSlideIndex].elements;
                const activeElementIndex = elements.findIndex(el => el.id === activeElementId);
                if (activeElementIndex !== -1) {
                    const [element] = elements.splice(activeElementIndex, 1);
                    elements.push(element);
                    renderSlide('slide-content');
                    showMessage('ãŠãˆã‹ãã‚’å‰ã«å‡ºã—ãŸã‚ˆï¼');
                }
            } else {
                showMessage('å‰ã«å‡ºã—ãŸã„ã‚‚ã®ã‚’ã€å…ˆã«ãˆã‚‰ã‚“ã§ã­ã€‚', true);
            }
        }
        
        // ãˆã‚‰ã‚“ã ãŠçµµã‹ãã‚’ä¸€ç•ªå¾Œã‚ã«ã ã™
        function sendToBack() {
            if (activeElementId) {
                const elements = slides[currentSlideIndex].elements;
                const activeElementIndex = elements.findIndex(el => el.id === activeElementId);
                if (activeElementIndex !== -1) {
                    const [element] = elements.splice(activeElementIndex, 1);
                    elements.unshift(element);
                    renderSlide('slide-content');
                    showMessage('ãŠãˆã‹ãã‚’å¾Œã‚ã«å‡ºã—ãŸã‚ˆï¼');
                }
            } else {
                showMessage('å¾Œã‚ã«å‡ºã—ãŸã„ã‚‚ã®ã‚’ã€å…ˆã«ãˆã‚‰ã‚“ã§ã­ã€‚', true);
            }
        }
        
        // ãˆã‚‰ã‚“ã ãŠçµµã‹ãã‚’æ¶ˆã™
        function deleteElement() {
            if (activeElementId) {
                const elements = slides[currentSlideIndex].elements;
                const activeElementIndex = elements.findIndex(el => el.id === activeElementId);
                if (activeElementIndex !== -1) {
                    elements.splice(activeElementIndex, 1);
                    activeElementId = null;
                    renderSlide('slide-content');
                    showMessage('ãŠãˆã‹ãã‚’ã‘ã—ãŸã‚ˆï¼');
                }
            } else {
                showMessage('ã‘ã—ãŸã„ã‚‚ã®ã‚’ã€å…ˆã«ãˆã‚‰ã‚“ã§ã­ã€‚', true);
            }
        }

        // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ãƒšãƒ¼ã‚¸ã‚’ã‚ãã‚‹
        document.addEventListener('keydown', (e) => {
            if (isPresentationMode) {
                if (e.key === 'ArrowRight') {
                    if (currentSlideIndex < slides.length - 1) {
                        currentSlideIndex++;
                        renderSlide('presentation-content');
                    }
                } else if (e.key === 'ArrowLeft') {
                    if (currentSlideIndex > 0) {
                        currentSlideIndex--;
                        renderSlide('presentation-content');
                    }
                } else if (e.key === 'Escape') {
                    togglePresentationMode(false);
                }
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            messageBox = document.getElementById('message-box');
            // ã‚¹ãƒ©ã‚¤ãƒ‰ã®å½¢ã‚’ãƒ†ãƒ¬ãƒ“ã¿ãŸã„ã«ã™ã‚‹
            document.getElementById('slide-container').style.aspectRatio = '16 / 9';
            const fileInput = document.getElementById('file-input');
            const loadInput = document.getElementById('load-input');
            const animationSelect = document.getElementById('animation-select');
            let fileTypeToUpload = null;

            // ãƒ¡ã‚¤ãƒ³ã®æ“ä½œãƒœã‚¿ãƒ³
            document.getElementById('content-button').addEventListener('click', () => togglePanel('content-controls'));
            document.getElementById('animation-button').addEventListener('click', () => togglePanel('animation-controls'));
            document.getElementById('slide-button').addEventListener('click', () => togglePanel('slide-controls'));
            document.getElementById('file-button').addEventListener('click', () => togglePanel('file-controls'));
            
            // ãƒ•ã‚¡ã‚¤ãƒ«ãã†ã•
            document.getElementById('load-button').addEventListener('click', () => {
                loadInput.click();
            });

            loadInput.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        try {
                            const loadedSlides = JSON.parse(event.target.result);
                            slides = loadedSlides;
                            currentSlideIndex = 0;
                            renderSlide('slide-content');
                            showMessage("ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚ˆã¿ã“ã‚“ã ã‚ˆï¼");
                        } catch (error) {
                            console.error("ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:", error);
                            showMessage("ãƒ•ã‚¡ã‚¤ãƒ«ãŒã“ã‚ã‚Œã¦ã‚‹ã¿ãŸã„...", true);
                        }
                    };
                    reader.onerror = (error) => {
                        console.error("ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:", error);
                        showMessage("ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚ˆã¿ã“ã‚ãªã‹ã£ãŸã‚ˆ...", true);
                    };
                    reader.readAsText(file);
                }
            });

            document.getElementById('save-button').addEventListener('click', () => {
                const dataStr = JSON.stringify(slides, null, 2);
                const blob = new Blob([dataStr], {type: 'application/json'});
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'presentation.json';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                showMessage("ãƒ‡ãƒ¼ã‚¿ã‚’æ®‹ã—ãŸã‚ˆï¼");
            });

            // ãƒšãƒ¼ã‚¸ã‚’ã‚ãã‚‹
            document.getElementById('prev-button').addEventListener('click', () => {
                if (currentSlideIndex > 0) {
                    currentSlideIndex--;
                    renderSlide('slide-content');
                }
            });

            document.getElementById('next-button').addEventListener('click', () => {
                if (currentSlideIndex < slides.length - 1) {
                    currentSlideIndex++;
                    renderSlide('slide-content');
                }
            });

            // ãƒšãƒ¼ã‚¸ã‚’ãã†ã•
            document.getElementById('add-slide-button').addEventListener('click', () => {
                const newSlide = { elements: [{ id: crypto.randomUUID(), type: 'text', content: 'æ–°ã—ã„ãƒšãƒ¼ã‚¸ã ã‚ˆï¼', styles: { top: '50%', left: '50%', transform: 'translate(-50%, -50%)', fontSize: '3rem', fontWeight: 'bold' }, animation: null }] };
                slides.splice(currentSlideIndex + 1, 0, newSlide);
                currentSlideIndex++;
                renderSlide('slide-content');
            });

            document.getElementById('delete-slide-button').addEventListener('click', () => {
                if (slides.length > 1) {
                    slides.splice(currentSlideIndex, 1);
                    if (currentSlideIndex >= slides.length) {
                        currentSlideIndex = slides.length - 1;
                    }
                    renderSlide('slide-content');
                } else {
                    showMessage("ã“ã®ãƒšãƒ¼ã‚¸ã¯å¤§äº‹ã ã‹ã‚‰æ¶ˆã›ãªã„ã‚ˆã€‚", true);
                }
            });

            // ã‚¹ãƒ©ã‚¤ãƒ‰ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹ãƒœã‚¿ãƒ³
            document.getElementById('show-slides-button').addEventListener('click', () => {
                toggleSlideListView(true);
            });
            
            // ã‚¹ãƒ©ã‚¤ãƒ‰ä¸€è¦§ãƒ‘ãƒãƒ«ã®é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³
            document.getElementById('close-slides-button').addEventListener('click', () => {
                toggleSlideListView(false);
            });


            // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å…¥ã‚Œã‚‹
            document.getElementById('add-text-button').addEventListener('click', () => {
                const newElement = { id: crypto.randomUUID(), type: 'text', content: 'æ–°ã—ã„æ–‡å­—', styles: { top: '50%', left: '50%', transform: 'translate(-50%, -50%)', fontSize: '1.5rem', fontWeight: 'normal' }, animation: null };
                slides[currentSlideIndex].elements.push(newElement);
                renderSlide('slide-content');
            });
            
            document.getElementById('add-image-button').addEventListener('click', () => {
                fileTypeToUpload = 'image';
                fileInput.accept = 'image/*';
                fileInput.click();
            });
            
            document.getElementById('add-video-button').addEventListener('click', () => {
                fileTypeToUpload = 'video';
                fileInput.accept = 'video/*';
                fileInput.click();
            });

            fileInput.addEventListener('change', async (e) => {
                const file = e.target.files[0];
                if (file) {
                    // ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸Šé™ã‚’10MBã«è¨­å®š
                    const maxFileSize = 10 * 1024 * 1024;
                    if (file.size > maxFileSize) { 
                         showMessage("ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤§ãã™ãã‚‹ã‚ˆï¼ˆ10MBã¾ã§ï¼‰ï¼", true);
                         return;
                    }
                    try {
                        showMessage("ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã˜ã‚…ã‚“ã³ã—ã¦ã„ã‚‹ã‚ˆ...");
                        const base64Data = await convertFileToBase64(file);
                        
                        const newElement = {
                            id: crypto.randomUUID(),
                            type: fileTypeToUpload,
                            src: base64Data,
                            styles: { top: '20%', left: '20%', width: '40%', height: 'auto' },
                            animation: null
                        };
                        slides[currentSlideIndex].elements.push(newElement);
                        renderSlide('slide-content');
                        showMessage("ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…¥ã‚ŒãŸã‚ˆï¼");

                    } catch (error) {
                        console.error("ãƒ•ã‚¡ã‚¤ãƒ«ã®å‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:", error);
                        showMessage("ãƒ•ã‚¡ã‚¤ãƒ«ã®è¿½åŠ ã«å¤±æ•—ã—ãŸã‚ˆ...", true);
                    }
                }
            });
            
            
            // æ–‡å­—ã®è£…é£¾
            document.getElementById('bold-button').addEventListener('click', () => {
                if (activeElementId) {
                    const element = slides[currentSlideIndex].elements.find(el => el.id === activeElementId);
                    if (element && element.type === 'text') {
                        if (element.styles.fontWeight === 'bold') {
                            element.styles.fontWeight = 'normal';
                        } else {
                            element.styles.fontWeight = 'bold';
                        }
                        const activeEl = document.getElementById(activeElementId).querySelector('[contenteditable]');
                        if (activeEl) {
                           activeEl.style.fontWeight = element.styles.fontWeight;
                        }
                    }
                }
            });
            
            document.getElementById('color-picker').addEventListener('change', (e) => {
                if (activeElementId) {
                    const element = slides[currentSlideIndex].elements.find(el => el.id === activeElementId);
                    if (element && element.type === 'text') {
                        element.styles.color = e.target.value;
                        const activeEl = document.getElementById(activeElementId).querySelector('[contenteditable]');
                        if (activeEl) {
                           activeEl.style.color = e.target.value;
                        }
                    }
                }
            });
            
            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
            animationSelect.addEventListener('change', (e) => {
                if (activeElementId) {
                    const element = slides[currentSlideIndex].elements.find(el => el.id === activeElementId);
                    if (element) {
                        const animationValue = e.target.value;
                        element.animation = animationValue === 'none' ? null : animationValue;
                        showMessage(animationValue === 'none' ? 'ã†ã”ãã‚’æ¶ˆã—ãŸã‚ˆã€‚' : 'ã†ã”ãã‚’ã¤ã‘ãŸã‚ˆï¼');
                        renderSlide('slide-content'); // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ©ãƒ™ãƒ«ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã«å†æç”»ã—ã¾ã™
                    }
                } else {
                    showMessage("ã†ã”ãã‚’ã¤ã‘ã‚‹ã«ã¯ã€å…ˆã«ãˆã‚‰ã‚“ã§ã­ã€‚", true);
                }
            });

            // é‡ãªã‚Šã®èª¿æ•´
            document.getElementById('bring-to-front-button').addEventListener('click', bringToFront);
            document.getElementById('send-to-back-button').addEventListener('click', sendToBack);

            // å‰Šé™¤
            document.getElementById('delete-element-button').addEventListener('click', deleteElement);

            // ç™ºè¡¨ãƒ¢ãƒ¼ãƒ‰
            document.getElementById('present-button').addEventListener('click', () => {
                togglePresentationMode(true);
            });

            renderSlide('slide-content');
        });
    </script>
</head>
<body class="bg-gray-100 font-sans">

    <div id="message-box" class="fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg hidden z-50">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</div>
    <input type="file" id="file-input" class="hidden">
    <input type="file" id="load-input" class="hidden" accept="application/json">

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ã€‚æ“ä½œãƒ‘ãƒãƒ«ã¨é‡ãªã‚‹éƒ¨åˆ†ã€‚ -->
    <div class="flex flex-col items-center justify-center min-h-screen p-4 pl-80">
        <!-- ã‚¹ãƒ©ã‚¤ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="flex items-center justify-between w-full max-w-5xl">
            <button id="prev-button" class="bg-blue-500 text-white px-6 py-3 rounded-full hover:bg-blue-600 transition duration-300 shadow-lg">
                <span class="text-2xl">â†</span> å‰
            </button>
            <span id="slide-count" class="text-gray-600 font-bold text-lg"></span>
            <button id="next-button" class="bg-blue-500 text-white px-6 py-3 rounded-full hover:bg-blue-600 transition duration-300 shadow-lg">
                æ¬¡ã¸ <span class="text-2xl">â†’</span>
            </button>
        </div>

        <div class="bg-white rounded-2xl shadow-xl w-full max-w-5xl overflow-hidden mt-4 relative">
            <div class="relative w-full aspect-video flex items-center justify-center bg-white" id="slide-container">
                <div id="slide-content" class="w-full h-full relative">
                    <!-- ã‚¹ãƒ©ã‚¤ãƒ‰ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ã“ã“ã«å‹•çš„ã«å…¥ã‚Šã¾ã™ -->
                </div>
            </div>
        </div>
    </div>

    <!-- ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ« -->
    <div id="editor-controls" class="fixed top-1/2 left-4 transform -translate-y-1/2 flex p-4 bg-white rounded-2xl shadow-xl gap-4 z-20">
        <!-- ãƒ¡ã‚¤ãƒ³ã®æ“ä½œãƒœã‚¿ãƒ³ -->
        <div class="flex-none w-40 flex flex-col items-center gap-4">
            <h2 class="font-bold text-xl mb-2">ãã†ã•ãƒ‘ãƒãƒ«</h2>
            <button id="content-button" class="bg-blue-500 text-white px-6 py-3 rounded-full hover:bg-blue-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                <span class="text-2xl">âœï¸</span> ã¤ãã‚‹
            </button>
            <button id="animation-button" class="bg-red-500 text-white px-6 py-3 rounded-full hover:bg-red-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                <span class="text-2xl">ğŸ¬</span> ã†ã”ã‹ã™
            </button>
            <button id="slide-button" class="bg-yellow-500 text-white px-6 py-3 rounded-full hover:bg-yellow-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                <span class="text-2xl">ğŸ“„</span> ãƒšãƒ¼ã‚¸ã‚’ãã†ã•
            </button>
            <button id="file-button" class="bg-indigo-500 text-white px-6 py-3 rounded-full hover:bg-indigo-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                <span class="text-2xl">ğŸ’¾</span> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãã†ã•
            </button>
        </div>
        
        <!-- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç·¨é›†ãƒ‘ãƒãƒ« (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯éè¡¨ç¤º) -->
        <div class="flex-1 flex flex-col items-center justify-center pl-4 border-l border-gray-300">
            <div id="content-controls" class="hidden w-full flex flex-col items-center justify-center gap-4">
                <button id="add-text-button" class="bg-blue-500 text-white px-6 py-3 rounded-full hover:bg-blue-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                    <span class="text-2xl">ğŸ“</span> æ–‡å­—ã‚’å…¥ã‚Œã‚‹
                </button>
                <button id="add-image-button" class="bg-purple-500 text-white px-6 py-3 rounded-full hover:bg-purple-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                    <span class="text-2xl">ğŸ–¼ï¸</span> å†™çœŸã‚’å…¥ã‚Œã‚‹
                </button>
                <button id="add-video-button" class="bg-teal-500 text-white px-6 py-3 rounded-full hover:bg-teal-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                    <span class="text-2xl">ğŸ“¹</span> ã©ã†ãŒã‚’ã„ã‚Œã‚‹
                </button>
                <button id="delete-element-button" class="bg-gray-400 text-white px-6 py-3 rounded-full hover:bg-gray-500 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                    <span class="text-2xl">âŒ</span> ãˆã‚‰ã‚“ã ã‚‚ã®ã‚’ã‘ã™
                </button>
                <button id="bold-button" class="bg-yellow-500 text-white px-6 py-3 rounded-full hover:bg-yellow-600 transition duration-300 shadow-lg font-bold w-full flex items-center justify-center gap-2">
                    <span class="text-2xl">ğŸ…±ï¸</span> å¤ªãã™ã‚‹
                </button>
                <div class="flex flex-col items-center gap-2">
                    <span class="text-gray-600">è‰²ã‚’é¸ã¶:</span>
                    <input type="color" id="color-picker" class="rounded-full w-12 h-12 border-none p-1 shadow-lg cursor-pointer">
                </div>
                <button id="bring-to-front-button" class="bg-red-500 text-white px-6 py-3 rounded-full hover:bg-red-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                    <span class="text-2xl">â¬†ï¸</span> å‰ã«å‡ºã™
                </button>
                <button id="send-to-back-button" class="bg-red-500 text-white px-6 py-3 rounded-full hover:bg-red-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                    <span class="text-2xl">â¬‡ï¸</span> å¾Œã‚ã«å‡ºã™
                </button>
            </div>

            <!-- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ãƒãƒ« (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯éè¡¨ç¤º) -->
            <div id="animation-controls" class="hidden w-full flex flex-col items-center justify-center gap-4">
                <label for="animation-select" class="text-gray-600">ã†ã”ã:</label>
                <select id="animation-select" class="p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200 w-full">
                    <option value="none">ãªã—</option>
                    <option value="fadeIn">ã¼ã‚“ã‚„ã‚Šå‡ºã¦ãã‚‹</option>
                    <option value="slideInLeft">å·¦ã‹ã‚‰å‡ºã¦ãã‚‹</option>
                    <option value="scaleIn">å¤§ããã™ã‚‹</option>
                </select>
            </div>

            <!-- ã‚¹ãƒ©ã‚¤ãƒ‰ç®¡ç†ãƒ‘ãƒãƒ« (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯éè¡¨ç¤º) -->
            <div id="slide-controls" class="hidden w-full flex flex-col items-center justify-center gap-4">
                <button id="add-slide-button" class="bg-green-500 text-white px-6 py-3 rounded-full hover:bg-green-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                    <span class="text-2xl">â•</span> æ–°ã—ã„ãƒšãƒ¼ã‚¸ã‚’ä½œã‚‹
                </button>
                <button id="delete-slide-button" class="bg-red-500 text-white px-6 py-3 rounded-full hover:bg-red-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                    <span class="text-2xl">ğŸ—‘ï¸</span> ã“ã®ãƒšãƒ¼ã‚¸ã‚’æ¶ˆã™
                </button>
                <button id="show-slides-button" class="bg-sky-500 text-white px-6 py-3 rounded-full hover:bg-sky-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                    <span class="text-2xl">ğŸ“‘</span> ã‚¹ãƒ©ã‚¤ãƒ‰ä¸€è¦§
                </button>
            </div>
            
            <!-- ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ãƒ‘ãƒãƒ« (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯éè¡¨ç¤º) -->
            <div id="file-controls" class="hidden w-full flex flex-col items-center justify-center gap-4">
                <button id="save-button" class="bg-indigo-500 text-white px-6 py-3 rounded-full hover:bg-indigo-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                    <span class="text-2xl">ğŸ’¾</span> ãƒ‡ãƒ¼ã‚¿ã‚’æ®‹ã™
                </button>
                <button id="load-button" class="bg-gray-500 text-white px-6 py-3 rounded-full hover:bg-gray-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                    <span class="text-2xl">ğŸ“‚</span> ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€
                </button>
                <button id="present-button" class="bg-sky-500 text-white px-6 py-3 rounded-full hover:bg-sky-600 transition duration-300 shadow-lg w-full flex items-center justify-center gap-2">
                    <span class="text-2xl">â–¶ï¸</span> ç™ºè¡¨ã‚’å§‹ã‚ã‚‹
                </button>
            </div>
        </div>
    </div>

    <!-- ã‚¹ãƒ©ã‚¤ãƒ‰ä¸€è¦§ãƒ“ãƒ¥ãƒ¼ -->
    <div id="slide-list-view" class="fixed inset-0 bg-gray-900 bg-opacity-90 z-40 hidden flex flex-col items-center p-8">
        <div class="flex justify-between w-full max-w-5xl mb-4">
            <h2 class="text-white text-3xl font-bold">ã‚¹ãƒ©ã‚¤ãƒ‰ä¸€è¦§</h2>
            <button id="close-slides-button" class="text-white text-3xl hover:text-gray-400 transition duration-300">
                &times;
            </button>
        </div>
        <div id="slide-list-thumbnails" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-full max-w-5xl overflow-y-auto">
            <!-- ã‚¹ãƒ©ã‚¤ãƒ‰ã®ã‚µãƒ ãƒã‚¤ãƒ«ã¯ã“ã“ã«å‹•çš„ã«å…¥ã‚Šã¾ã™ -->
        </div>
    </div>

    <!-- ç™ºè¡¨ãƒ“ãƒ¥ãƒ¼ -->
    <div id="presentation-view" class="fixed inset-0 bg-white hidden">
        <div id="presentation-content" class="w-full h-full relative"></div>
    </div>
</body>
</html>
